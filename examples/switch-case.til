sh.ls | transform filename {
        set parts [string.split $filename "."]
        set name [string.join "." [list.slice 0 -1 $parts]]
        set suffix list.index -1 $parts
        return $name $suffix
    } | case (>name "txt") {
        io.out "$name is a plain text file"
    } | case (>name "md") {
        io.out "$name is a MarkDown file"
    } | case (>name >suffix) {
        io.out "$name has $suffix suffix"
    }
